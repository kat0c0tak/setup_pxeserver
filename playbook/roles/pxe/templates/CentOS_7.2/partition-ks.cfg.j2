# Kickstart file automatically generated by anaconda.

#version=DEVEL
install
url --url=http://{{ HTTP_SERVER_IP }}/kickstart/CentOS_7.2/iso

# Use text installation
text

# Run the Setup Agent on first boot
#firstboot --enable
#
# X Window System configuration information
xconfig  --startxonboot

# Locale.
lang en_US.UTF-8
keyboard --vckeymap=us --xlayouts='us'
timezone --isUtc Asia/Tokyo

# Network. DHCP. IPv6 is disabled.
network --device=ens3 --bootproto=dhcp --noipv6 --activate
network --hostname=localhost.localdomain

# Repository.
#repo --name="CentOS"  --baseurl=nfs:192.168.122.1:/kickstart/CentOS_7.2 --cost=100

# User Authsorization.
authconfig --enableshadow --passalgo=sha512

# root password is 'root'
rootpw --plaintext root

# Firewall & SELinux are disabled.
firewall --disabled
selinux --disabled

# System services
services --disabled="chronyd"

#
# Initialize all partitions.
#
ignoredisk --only-use=sda
bootloader --location=mbr --driveorder=sda --append="crashkernel=auto rhgb quiet"
zerombr
clearpart --all --drives=sda
part /boot --fstype="ext4" --size=500
part pv.253994 --fstype="lvmpv" --size=10000 --grow
volgroup VolGroup pv.253994
logvol swap --fstype="swap" --name=lv_swap --vgname=VolGroup --size=819 --maxsize=819
logvol / --fstype="xfs" --name=lv_root_partition --vgname=VolGroup --size=2000 --maxsize=2000

#
# Post script.
#
%post --log=/root/ks-post.log
echo This is kickstart post log.
%end

#
# Minimam.
#
%packages --nobase
%end

#%packages
#@^developer-workstation-environment
#@additional-devel
#@backup-client
#@base
#@compat-libraries
#@core
#@debugging
#@desktop-debugging
#@development
#@dial-up
#@directory-client
#@dns-server
#@emacs
#@file-server
#@fonts
#@ftp-server
#@gnome-apps
#@gnome-desktop
#@graphics
#@guest-desktop-agents
#@hardware-monitoring
#@identity-management-server
#@infiniband
#@input-methods
#@internet-applications
#@internet-browser
#@java-platform
#@kde-desktop
#@large-systems
#@legacy-x
#@load-balancer
#@mail-server
#@mainframe-access
#@mariadb
#@multimedia
#@network-file-system-client
#@office-suite
#@performance
#@perl-runtime
#@perl-web
#@php
#@platform-devel
#@postgresql
#@print-client
#@python-web
#@ruby-runtime
#@security-tools
#@smart-card
#@technical-writing
#@virtualization-client
#@virtualization-hypervisor
#@virtualization-tools
#@web-server
#@web-servlet
#@x11
##chrony
#%end

%addon com_redhat_kdump --disable --reserve-mb='auto'
%end

reboot
